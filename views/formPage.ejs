<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <% const routeText = (locals.route === "register") ? "Register" : "Log in"; %>
     <title><%- routeText %></title>
     <link rel="stylesheet" href="/styles/reset.css">
     <link rel="stylesheet" href="/styles/style.css">
</head>
<body>
     <%- include("partials/nav"); %>
     <!-- TODO: frontend validation (confirm password) -->

     <main>
       <%- include("partials/errors"); %>
       <!-- route == register || log-in -->
       <form action=<%- `/${locals.route}` %> method="POST">
            <label for="username">User name</label>
            <input id="username" name="username" type="text" required
            value="<%= (locals.item?.username) ? item.username : "" %>" />
       
            <% if (locals.route === "register") { %>
                 <label for="displayname">Display name</label>
                 <input id="displayname" name="displayname" type="text" required
                 value="<%= (locals.item?.displayname) ? item.displayname : "" %>" />
            <% } %>
       
            <label for="password">Password</label>
            <input id="password" name="password" type="password" required
            value="<%= (locals.item?.password) ? item.password : "" %>" />
       
            <% if (locals.route === "register") { %>
                 <label for="confirmpassword">Confirm password</label>
                 <input id="confirmpassword" name="confirmpassword" type="password" required
                 value="<%= (locals.item?.confirmpassword) ? item.confirmpassword : "" %>" />
            <% } %>
       
            <button type="submit"><%- routeText %></button>
       </form>
       <% if(locals.route == "register") { %>
            <span>Already have an account? <a href="/log-in">Log in</a></span>
            <% } else {%>
            <span>Don't have an account? <a href="/register">Register</a></span>
       <% } %>
     </main>
</body>
</html>
